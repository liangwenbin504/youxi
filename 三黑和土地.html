<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ã€Šä¸‰é»‘å’ŒåœŸåœ°ã€‹äº’åŠ¨å­¦ä¹ æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", sans-serif;
        }
        body {
            background-color: #f5f5f5;
            padding: 20px;
            position: relative; /* ä¸ºèŠ±èŠ±åŠ¨ç”»å®šä½åšå‡†å¤‡ */
        }
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 15px rgba(0,0,0,0.1);
        }
        .title {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 30px;
            border-bottom: 2px solid #3498db;
            padding-bottom: 15px;
        }
        .game-section {
            margin-bottom: 40px;
        }
        .section-title {
            color: #3498db;
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        .question {
            margin-bottom: 15px;
            font-size: 1.1rem;
            color: #34495e;
        }
        /* åŸæ–‡å±•ç¤ºæ ·å¼ */
        .text-original {
            background: #f0f8ff;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin-bottom: 20px;
            color: #2c3e50;
            line-height: 1.6;
        }
        /* è¿”å›æŒ‰é’®æ ·å¼ */
        .back-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 24px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 30px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: all 0.3s ease;
            z-index: 1000;
            display: block;
        }
        .back-button:hover {
            background-color: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        .back-button:active {
            transform: translateY(0);
        }
        .option-group {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        .option {
            padding: 12px;
            background: #ecf0f1;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .option:hover {
            background: #d5dbdb;
        }
        /* å•é€‰é€‰ä¸­æ ·å¼ï¼ˆæœªæäº¤å‰ï¼‰ */
        .option.selected-single {
            background: #b8d4f5;
            color: #2c3e50;
        }
        /* å•é€‰æ­£ç¡®/é”™è¯¯æ ·å¼ */
        .option.correct {
            background: #2ecc71;
            color: white;
        }
        .option.incorrect {
            background: #e74c3c;
            color: white;
        }
        /* å¤šé€‰é€‰ä¸­æ ·å¼ï¼ˆè“è‰²ï¼‰ */
        .option.selected {
            background: #3498db;
            color: white;
        }
        /* æäº¤æŒ‰é’®æ ·å¼ */
        .submit-btn {
            padding: 10px 25px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-bottom: 20px;
            transition: background 0.3s;
        }
        .submit-btn:hover {
            background: #2980b9;
        }
        /* æ–°å¢ï¼šæäº¤æŒ‰é’®ç¦ç”¨æ ·å¼ */
        .submit-btn:disabled {
            background: #95a5a6;
            cursor: not-allowed;
            opacity: 0.7;
        }
        .feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 5px;
            display: none; /* é»˜è®¤éšè— */
        }
        .feedback.correct {
            background: #dff0d8;
            color: #3c763d;
        }
        .feedback.incorrect {
            background: #f2dede;
            color: #a94442;
        }
        .feedback.tip {
            background: #fcf8e3;
            color: #8a6d3b;
        }
        .text-analysis {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
            color: #34495e;
            line-height: 1.6;
        }
        .final-score {
            text-align: center;
            font-size: 1.5rem;
            color: #2c3e50;
            margin-top: 30px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            display: none;
        }
        /* è¯„ä»·æ–‡æœ¬æ ·å¼ */
        .score-comment {
            font-size: 1.2rem;
            margin: 15px 0;
            color: #e67e22;
            font-weight: bold;
        }
        .restart-btn {
            padding: 12px 25px;
            background: #e67e22;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin-top: 20px;
            transition: background 0.3s;
        }
        .restart-btn:hover {
            background: #d35400;
        }
        /* èŠ±èŠ±åŠ¨ç”»æ ·å¼ï¼ˆæ—¶é•¿5ç§’ï¼‰ */
        .flower-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 8rem;
            z-index: 9999;
            opacity: 0;
            animation: flowerBounce 5s ease-in-out forwards;
            pointer-events: none; /* ä¸é®æŒ¡ç‚¹å‡» */
        }
        @keyframes flowerBounce {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
        }
    </style>
</head>
<body>
    <!-- èŠ±èŠ±åŠ¨ç”»å®¹å™¨ -->
    <div class="flower-animation" id="flowerAnimation">ğŸŒ¸</div>

    <div class="game-container">
        <h1 class="title">ã€Šä¸‰é»‘å’ŒåœŸåœ°ã€‹äº’åŠ¨å­¦ä¹ æ¸¸æˆ</h1>

        <!-- ç¬¬ä¸€å…³ï¼šç”Ÿå­—è¯é—¯å…³ -->
        <div class="game-section" id="section1">
            <h2 class="section-title">ç¬¬ä¸€å…³ï¼šç”Ÿå­—è¯é—¯å…³</h2>
            
            <div class="question">1. ä¸‹åˆ—å­—å½¢å’ŒåŠ ç‚¹å­—çš„è¯»éŸ³æœ‰è¯¯çš„ä¸€é¡¹æ˜¯ï¼Ÿ</div>
            <div class="option-group" id="optionGroup1">
                <div class="option" data-correct="false">A. ç–™ç˜© èˆèˆå„¿(guÅ)</div>
                <div class="option" data-correct="false">B. èˆ’æœ èéº¦(qiÃ¡o)</div>
                <div class="option" data-correct="true">C. å«å”¤ è¹šå(tÄng)</div>
                <div class="option" data-correct="false">D. ç¿»èº« é—ºå¥³(guÄ«)</div>
            </div>
            <button class="submit-btn" id="submit1">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback1"></div>

            <div class="question">2. å†œæ°‘ä¸€æœ‰äº†åœŸåœ°ï¼Œå°±æŠŠæ•´ä¸ªç”Ÿå‘½______äº†åœŸåœ°ï¼ˆé€‰æ‹©è¯¾æ–‡åŸè¯ï¼‰ï¼Ÿ</div>
            <div class="option-group" id="optionGroup2">
                <div class="option" data-correct="false">A. èå…¥</div>
                <div class="option" data-correct="true">B. æŠ•å…¥</div>
                <div class="option" data-correct="false">C. æ³¨å…¥</div>
                <div class="option" data-correct="false">D. æ”¾è¿›</div>
                <div class="option" data-correct="false">E. å€¾æ³¨</div>
            </div>
            <button class="submit-btn" id="submit2">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback2"></div>
        </div>

        <!-- ç¬¬äºŒå…³ï¼šå¥å­èµæå…³ -->
        <div class="game-section" id="section2">
            <h2 class="section-title">ç¬¬äºŒå…³ï¼šå¥å­èµæå…³</h2>
            <div class="text-original">
                åŸæ–‡èŠ‚é€‰ï¼šä¸‰é»‘ä»æ¥æ²¡ç¡è¿‡è¿™ä¹ˆå¥½çš„åºŠï¼Œä»Šå¤©å‡†å¤‡å¥½äº†ï¼Œå«éº¦ç±½å„¿ç¡ä¸Šã€‚è¿™ä¹ˆå¥½çš„åºŠï¼Œéº¦ç±½å„¿èººä¸‹å»æŒºèˆ’æœï¼Œå°±æƒ³å‘èŠ½ï¼Œèµ¶ç´§é’»å‡ºæ¥å¸äº›é›¨éœ²ã€‚ä¸‰é»‘è€™åœ°ï¼Œè€™å¾—åˆå¹³åˆé¡ºæºœï¼Œçœ‹èµ·æ¥å¥½åƒå¦‡å¥³ä»¬åˆšæ¢³çš„å¤´ã€‚ä»–ç¬‘å˜»å˜»çš„ï¼Œè¿å˜´éƒ½åˆä¸ä¸Šã€‚åœ°é‡Œçš„èˆèˆå„¿ä¹Ÿå«å¾—æ›´æ¬¢ã€‚æ´»åƒæ—±å¤©çš„é¹…ï¼Œä¸€è§äº†æ°´å°±è¿å¤´å¸¦å°¾å·´é’»è¿›æ°´é‡Œã€‚
            </div>
            
            <div class="question">1. â€œæ´»åƒæ—±å¤©çš„é¹…ï¼Œä¸€è§äº†æ°´å°±è¿å¤´å¸¦å°¾å·´é’»è¿›æ°´é‡Œâ€è¿ç”¨äº†ä»€ä¹ˆä¿®è¾æ‰‹æ³•ï¼Ÿ</div>
            <div class="option-group" id="optionGroup3">
                <div class="option" data-correct="false">A. æ‹Ÿäºº</div>
                <div class="option" data-correct="true">B. æ¯”å–»</div>
                <div class="option" data-correct="false">C. æ’æ¯”</div>
                <div class="option" data-correct="false">D. å¤¸å¼ </div>
            </div>
            <button class="submit-btn" id="submit3">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback3"></div>

            <div class="question">2. è¿™å¥è¯è¡¨è¾¾äº†å†œæ°‘å¯¹åœŸåœ°æ€æ ·çš„æƒ…æ„Ÿï¼Ÿï¼ˆå¤šé€‰ï¼‰</div>
            <div class="option-group" data-type="multiple" id="optionGroup4">
                <div class="option" data-correct="true">A. çƒ­çˆ±</div>
                <div class="option" data-correct="true">B. çè§†</div>
                <div class="option" data-correct="false">C. åŒæ¶</div>
                <div class="option" data-correct="true">D. ä¾èµ–</div>
            </div>
            <button class="submit-btn" id="submit4">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback4"></div>

            <div class="question">3. ä¸‹åˆ—å¥å­ä¸­ï¼Œå’Œâ€œæ´»åƒæ—±å¤©çš„é¹…ï¼Œä¸€è§äº†æ°´å°±è¿å¤´å¸¦å°¾å·´é’»è¿›æ°´é‡Œâ€è¿ç”¨ç›¸åŒä¿®è¾æ‰‹æ³•çš„ä¸€é¡¹æ˜¯ï¼Ÿ</div>
            <div class="option-group" id="optionGroup5">
                <div class="option" data-correct="false">A. èˆèˆå„¿åœ¨åœ°é‡Œæ¬¢å¿«åœ°å”±æ­Œã€‚</div>
                <div class="option" data-correct="true">B. éº¦ç”°åƒä¸€ç‰‡é‡‘è‰²çš„æµ·æ´‹ã€‚</div>
                <div class="option" data-correct="false">C. ä»–ç§çš„éº¦å­ï¼Œä¸€ç©—æœ‰ä¸‰å°ºé•¿ã€‚</div>
                <div class="option" data-correct="false">D. æ˜¥å¤©æ¥äº†ï¼ŒèŠ±å¼€äº†ï¼Œè‰ç»¿äº†ï¼Œé¸Ÿå«äº†ã€‚</div>
                <div class="option" data-correct="false">E. åœŸåœ°ç¬‘äº†ï¼Œéœ²å‡ºäº†æ¾è½¯çš„èƒ¸è†›ã€‚</div>
            </div>
            <button class="submit-btn" id="submit5">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback5"></div>
        </div>

        <!-- ç¬¬ä¸‰å…³ï¼šè¯—æ­Œç†è§£å…³ -->
        <div class="game-section" id="section3">
            <h2 class="section-title">ç¬¬ä¸‰å…³ï¼šè¯—æ­Œç†è§£å…³</h2>
            <div class="text-original">
                ã€Šæ˜¥å®µä¼´ç€ç»†é›¨ã€‹èŠ‚é€‰ï¼š<br>
                æ·…æ·…æ²¥æ²¥ï¼Œæ·…æ·…æ²¥æ²¥ï¼Œæ˜¯æ˜¥é›¨åœ¨æ•²çª—å—ï¼Ÿæ˜¯æ˜¥é›¨åœ¨æŠšæ‘¸éº¦è‹—å—ï¼Ÿæ˜¯æ˜¥é›¨åœ¨äº²å»åœŸåœ°å—ï¼Ÿ<br>
                å¬ç€ï¼Œå¬ç€ï¼Œæˆ‘ä»¿ä½›å¬è§äº†ç§å­å‘èŠ½çš„å£°éŸ³ï¼Œå¬è§äº†éº¦è‹—æ‹”èŠ‚çš„å£°éŸ³ã€‚<br>
                æ˜¥é›¨é’»è¿›æ³¥åœŸï¼Œåƒä¸€ä¸ªæ·˜æ°”çš„å­©å­ï¼Œå·å·åœ°å’Œæ³¥åœŸè¯´ç€æ‚„æ‚„è¯ã€‚æ³¥åœŸé…¥è½¯äº†ï¼Œå¢’æƒ…è¶³äº†ï¼Œå†œæ°‘ä¼¯ä¼¯çš„è„¸ä¸Šéœ²å‡ºäº†ç¬‘å®¹ã€‚<br>
                å¤œæ·±äº†ï¼Œé›¨å£°è¿˜åœ¨ç»§ç»­ï¼Œé›¨å£°ç»‡æˆå†œæ°‘çš„æ¢¦ï¼Œæ¢¦é‡Œæ˜¯é‡‘é»„çš„éº¦æµªï¼Œæ˜¯æ²‰ç”¸ç”¸çš„è°·ç©—ã€‚<br>
                å†œæ°‘ä»¬èººåœ¨åºŠä¸Šï¼Œæ„Ÿåˆ°å¤œé•¿ä¸èƒ½é©¬ä¸Šèµ·èº«ï¼Œåˆæ€•å¤œçŸ­ä¸å¤Ÿå¢’<sup>â‘ </sup>æ·±ã€‚<br>
                <span style="font-family: KaiTi, 'æ¥·ä½“', serif;">â‘ å¢’ï¼šæŒ‡çš„æ˜¯åœŸåœ°çš„æ¹¿åº¦ï¼Œå³åœŸåœ°ä¸Šçš„æ°´çš„å«é‡ã€‚</span>
            </div>
            
            <div class="question">1. ç»“åˆã€Šæ˜¥å®µä¼´ç€ç»†é›¨ã€‹èŠ‚é€‰ï¼Œä¸‹åˆ—å¯¹è¯—æ­Œç†è§£ä¸æ­£ç¡®çš„ä¸€é¡¹æ˜¯ï¼Ÿ</div>
            <div class="option-group" id="optionGroup6">
                <div class="option" data-correct="false">A. ç¬¬ä¸€èŠ‚ç”¨è¿ç»­é—®å¥å¼•å‘æƒ³è±¡ã€‚</div>
                <div class="option" data-correct="false">B. ç¬¬ä¸€èŠ‚ä»å¬è§‰è§’åº¦å†™æ˜¥é›¨ã€‚</div>
                <div class="option" data-correct="false">C. ç¬¬äºŒèŠ‚ç”¨æ‹Ÿäººæ‰‹æ³•å†™æ˜¥é›¨å…¥åœ°ã€‚</div>
                <div class="option" data-correct="true">D. â€œé›¨å£°ç»‡æˆå†œæ°‘çš„æ¢¦â€æ˜¯å› ä¸ºé›¨å£°æ‚¦è€³æ˜“å…¥æ¢¦ã€‚</div>
            </div>
            <button class="submit-btn" id="submit6">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback6"></div>

            <div class="question">2. â€œæ„Ÿåˆ°å¤œé•¿ä¸èƒ½é©¬ä¸Šèµ·èº«ï¼Œåˆæ€•å¤œçŸ­ä¸å¤Ÿå¢’æ·±â€æ˜¯å¦çŸ›ç›¾ï¼ŸåŸå› æ˜¯ä»€ä¹ˆï¼Ÿ</div>
            <div class="option-group" id="optionGroup7">
                <div class="option" data-correct="true">A. ä¸çŸ›ç›¾ï¼Œä½“ç°å†œæ°‘ç›¼è€•ç§åˆæ€•å¢’æƒ…ä¸è¶³çš„å¤æ‚å¿ƒæƒ…ã€‚</div>
                <div class="option" data-correct="false">B. çŸ›ç›¾ï¼Œå› ä¸ºå‰åè¡¨è¿°çš„å¤œçš„é•¿çŸ­æƒ³æ³•ç›¸äº’å†²çªã€‚</div>
                <div class="option" data-correct="false">C. ä¸çŸ›ç›¾ï¼Œå› ä¸ºå†œæ°‘å¤œæ™šå¤±çœ è§‰å¾—å¤œé•¿ï¼Œç™½å¤©åŠ³ä½œè§‰å¾—å¤œçŸ­ã€‚</div>
                <div class="option" data-correct="false">D. ä¸çŸ›ç›¾ï¼Œå› ä¸ºå¤œé•¿æ˜¯æƒ³å¤šä¼‘æ¯ï¼Œå¤œçŸ­æ˜¯æ‹…å¿ƒä¸‹é›¨æ—¶é—´ä¸å¤Ÿã€‚</div>
                <div class="option" data-correct="false">E. çŸ›ç›¾ï¼Œå› ä¸ºå†œæ°‘æ—¢æƒ³æ—©èµ·ç§åœ°åˆæƒ³ç¡æ‡’è§‰ã€‚</div>
                <div class="option" data-correct="false">F. ä¸çŸ›ç›¾ï¼Œå› ä¸ºå¤œé•¿å’Œå¤œçŸ­æ˜¯ä¸åŒåœ°åŒºçš„å†œæ°‘æ„Ÿå—ã€‚</div>
            </div>
            <button class="submit-btn" id="submit7">æäº¤ç­”æ¡ˆ</button>
            <div class="feedback" id="feedback7"></div>

            <div class="text-analysis">
                <h3>è¯—æ­Œä¸»é¢˜æç‚¼</h3>
                <p>ã€Šä¸‰é»‘å’ŒåœŸåœ°ã€‹ä¸ã€Šæ˜¥å®µä¼´ç€ç»†é›¨ã€‹éƒ½è¡¨è¾¾äº†å¯¹åœŸåœ°çš„æ·±åšæƒ…æ„Ÿï¼Œå‰è€…ä½“ç°å†œæ°‘è·å¾—åœŸåœ°åçš„å–œæ‚¦ä¸çè§†ï¼Œåè€…å±•ç°åœŸåœ°æ»‹å…»ä¸‡ç‰©çš„ç”Ÿæœºä¸å†œæ°‘å¯¹ä¸°æ”¶çš„æœŸç›¼ã€‚</p>
            </div>
        </div>

        <!-- æœ€ç»ˆå¾—åˆ† -->
        <div class="final-score" id="finalScore">
            <h2>æ­å–œä½ å®Œæˆæ‰€æœ‰å…³å¡ï¼</h2>
            <p>ä½ çš„å¾—åˆ†ï¼š<span id="score">0</span>/70</p>
            <p class="score-comment" id="scoreComment"></p>
            <button class="restart-btn" onclick="restartGame()">é‡æ–°å¼€å§‹</button>
        </div>
    </div>

    <script>
        let score = 0;
        const totalQuestions = 7; // æ€»å…±7é¢˜ï¼Œæ¯é¢˜10åˆ†
        const flowerAnimation = document.getElementById('flowerAnimation');
        const scoreComment = document.getElementById('scoreComment'); // è¯„ä»·æ–‡æœ¬å…ƒç´ 
        // è®°å½•æ¯ä¸ªé¢˜æ˜¯å¦å·²æäº¤ï¼ˆé¿å…é‡å¤è®¡åˆ†ï¼‰
        const submittedQuestions = new Array(totalQuestions).fill(false);
        // åˆå§‹åŒ–èŠ±èŠ±åŠ¨ç”»éšè—
        flowerAnimation.style.display = 'none';
        
        // å…³å¡é¡ºåºéšæœºæ’åºå‡½æ•°
        function shuffleSections() {
            // è·å–æ‰€æœ‰æ¸¸æˆå…³å¡ï¼ˆä¸åŒ…æ‹¬æœ€ç»ˆå¾—åˆ†éƒ¨åˆ†ï¼‰
            const sections = Array.from(document.querySelectorAll('.game-section'));
            const container = sections[0].parentNode;
            
            // éšæœºæ’åºå…³å¡æ•°ç»„
            const shuffledSections = [...sections].sort(() => Math.random() - 0.5);
            
            // ç§»é™¤æ‰€æœ‰å…³å¡
            sections.forEach(section => section.remove());
            
            // æŒ‰ç…§éšæœºé¡ºåºé‡æ–°æ·»åŠ å…³å¡
            shuffledSections.forEach(section => container.appendChild(section));
        }
        
        // é€‰é¡¹éšæœºæ’åºå‡½æ•°
        function shuffleOptions() {
            // è·å–æ‰€æœ‰é€‰é¡¹ç»„
            const optionGroups = document.querySelectorAll('.option-group');
            optionGroups.forEach(group => {
                // è·å–é€‰é¡¹ç»„ä¸­çš„æ‰€æœ‰é€‰é¡¹
                const options = Array.from(group.querySelectorAll('.option'));
                // éšæœºæ’åºé€‰é¡¹
                const shuffledOptions = [...options].sort(() => Math.random() - 0.5);
                // æ¸…ç©ºé€‰é¡¹ç»„
                group.innerHTML = '';
                // å°†éšæœºæ’åºåçš„é€‰é¡¹æ·»åŠ å›é€‰é¡¹ç»„
                shuffledOptions.forEach(option => {
                    group.appendChild(option);
                });
            });
        }
        
        // é¡µé¢åŠ è½½æ—¶æ‰§è¡Œéšæœºæ’åº
        function initializeGame() {
            // å…ˆéšæœºæ’åºå…³å¡
            shuffleSections();
            // å†éšæœºæ’åºé€‰é¡¹
            shuffleOptions();
        }
        
        // åˆå§‹åŒ–æ¸¸æˆ
        initializeGame();

        // 1. å¤„ç†å•é€‰é¢˜çš„é€‰é¡¹é€‰ä¸­é€»è¾‘ï¼ˆæœªæäº¤å‰çš„é€‰ä¸­æ ·å¼ï¼‰
        document.querySelectorAll('.option-group:not([data-type="multiple"]) .option').forEach(option => {
            option.addEventListener('click', function() {
                const parentGroup = this.parentElement;
                // æ¸…é™¤åŒç»„å…¶ä»–é€‰é¡¹çš„é€‰ä¸­æ ·å¼
                parentGroup.querySelectorAll('.option').forEach(opt => {
                    opt.classList.remove('selected-single');
                });
                // ä¸ºå½“å‰é€‰é¡¹æ·»åŠ é€‰ä¸­æ ·å¼
                this.classList.add('selected-single');
                // æ¸…é™¤è¯¥é¢˜çš„åé¦ˆï¼ˆé‡æ–°é€‰æ‹©åé‡ç½®ï¼‰
                const feedback = document.getElementById(`feedback${parentGroup.id.replace('optionGroup', '')}`);
                if (feedback) {
                    feedback.style.display = 'none';
                    feedback.textContent = '';
                    feedback.className = 'feedback'; // é‡ç½®ç±»å
                }
            });
        });

        // 2. å¤„ç†å¤šé€‰é¢˜çš„é€‰é¡¹é€‰ä¸­é€»è¾‘ï¼ˆè“è‰²é€‰ä¸­æ ·å¼ï¼Œä¿ç•™åŸæœ‰åˆ‡æ¢é€»è¾‘ï¼‰
        document.querySelectorAll('.option-group[data-type="multiple"] .option').forEach(option => {
            option.addEventListener('click', function() {
                this.classList.toggle('selected');
                // æ¸…é™¤è¯¥é¢˜çš„åé¦ˆï¼ˆé‡æ–°é€‰æ‹©åé‡ç½®ï¼‰
                const parentGroup = this.parentElement;
                const feedback = document.getElementById(`feedback${parentGroup.id.replace('optionGroup', '')}`);
                if (feedback) {
                    feedback.style.display = 'none';
                    feedback.textContent = '';
                    feedback.className = 'feedback'; // é‡ç½®ç±»å
                }
            });
        });

        // 3. é€šç”¨æäº¤ç­”æ¡ˆå¤„ç†å‡½æ•°ï¼ˆæ ¸å¿ƒï¼šæäº¤åç¦ç”¨æŒ‰é’®ï¼‰
        function handleSubmit(submitId, optionGroupId, feedbackId, isMultiple = false) {
            const submitBtn = document.getElementById(submitId);
            const optionGroup = document.getElementById(optionGroupId);
            const feedback = document.getElementById(feedbackId);
            const questionIndex = parseInt(submitId.replace('submit', '')) - 1; // è½¬ä¸º0-6çš„ç´¢å¼•

            submitBtn.addEventListener('click', function() {
                // æ ¸å¿ƒä¿®æ”¹ï¼šç‚¹å‡»åç«‹å³ç¦ç”¨æäº¤æŒ‰é’®ï¼Œå®ç°ä»…æäº¤ä¸€æ¬¡
                submitBtn.disabled = true;

                // é‡ç½®åé¦ˆæ ·å¼å’Œå†…å®¹ï¼ˆé˜²æ­¢æ®‹ç•™ï¼‰
                feedback.className = 'feedback';
                feedback.textContent = '';
                feedback.style.display = 'block'; // å¼ºåˆ¶æ˜¾ç¤ºåé¦ˆé¢æ¿
                // æ ‡è®°æ˜¯å¦å›ç­”æ­£ç¡®
                let isCorrect = false;

                if (isMultiple) {
                    // å¤„ç†å¤šé€‰é¢˜é€»è¾‘
                    const selectedOptions = optionGroup.querySelectorAll('.option.selected');
                    const correctOptions = optionGroup.querySelectorAll('.option[data-correct="true"]');
                    // åˆ¤æ–­ï¼šé€‰å…¨æ­£ç¡®é€‰é¡¹ä¸”æœªé€‰é”™è¯¯é€‰é¡¹
                    isCorrect = selectedOptions.length === correctOptions.length && 
                        Array.from(selectedOptions).every(opt => opt.dataset.correct === 'true');

                    if (selectedOptions.length === 0) {
                        feedback.classList.add('tip');
                        feedback.textContent = 'ğŸ’¡ è¯·è‡³å°‘é€‰æ‹©ä¸€ä¸ªé€‰é¡¹åå†æäº¤ï¼';
                        return;
                    }
                } else {
                    // å¤„ç†å•é€‰é¢˜é€»è¾‘
                    const selectedOption = optionGroup.querySelector('.option.selected-single');
                    if (!selectedOption) {
                        feedback.classList.add('tip');
                        feedback.textContent = 'ğŸ’¡ è¯·å…ˆé€‰æ‹©ä¸€ä¸ªé€‰é¡¹åå†æäº¤ï¼';
                        return;
                    }
                    // åˆ¤æ–­æ˜¯å¦æ­£ç¡®
                    isCorrect = selectedOption.getAttribute('data-correct') === 'true';
                    // æ¸…é™¤é€‰ä¸­æ ·å¼ï¼Œæ·»åŠ æ­£ç¡®/é”™è¯¯æ ·å¼
                    optionGroup.querySelectorAll('.option').forEach(opt => {
                        opt.classList.remove('selected-single');
                    });
                    selectedOption.classList.add(isCorrect ? 'correct' : 'incorrect');
                }

                // æ˜¾ç¤ºåé¦ˆå¹¶è®¡åˆ†ï¼ˆä»…é¦–æ¬¡æäº¤æ—¶è®¡åˆ†ï¼Œæ­¤å¤„æŒ‰é’®å·²ç¦ç”¨ï¼Œæ— éœ€é‡å¤åˆ¤æ–­ï¼‰
                if (!submittedQuestions[questionIndex]) {
                    if (isCorrect) {
                        feedback.classList.add('correct');
                        feedback.textContent = 'âœ… å›ç­”æ­£ç¡®ï¼åŠ 10åˆ†~';
                        score += 10;
                    } else {
                        feedback.classList.add('incorrect');
                        if (isMultiple) {
                            feedback.textContent = 'âŒ å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ã€çƒ­çˆ±ã€çè§†ã€ä¾èµ–ã€‘ä¸‰ä¸ªé€‰é¡¹å“¦ï½';
                        } else {
                            const correctAns = optionGroup.querySelector('[data-correct="true"]').textContent;
                            feedback.textContent = `âŒ å›ç­”é”™è¯¯ï¼Œæ­£ç¡®ç­”æ¡ˆæ˜¯ï¼š${correctAns}ï¼Œå†æƒ³æƒ³å‘€ï½`;
                        }
                    }
                    submittedQuestions[questionIndex] = true; // æ ‡è®°ä¸ºå·²æäº¤
                }

                checkAllCompleted(); // æ£€æŸ¥æ˜¯å¦æ‰€æœ‰é¢˜éƒ½å®Œæˆ
            });
        }

        // ä¸º7é“é¢˜ç»‘å®šæäº¤äº‹ä»¶ï¼ˆæŒ‰é¡ºåºï¼šå•é€‰ã€å•é€‰ã€å•é€‰ã€å¤šé€‰ã€å•é€‰ã€å•é€‰ã€å•é€‰ï¼‰
        handleSubmit('submit1', 'optionGroup1', 'feedback1');
        handleSubmit('submit2', 'optionGroup2', 'feedback2');
        handleSubmit('submit3', 'optionGroup3', 'feedback3');
        handleSubmit('submit4', 'optionGroup4', 'feedback4', true); // å¤šé€‰é¢˜
        handleSubmit('submit5', 'optionGroup5', 'feedback5');
        handleSubmit('submit6', 'optionGroup6', 'feedback6');
        handleSubmit('submit7', 'optionGroup7', 'feedback7');

        // ç”Ÿæˆå¾—åˆ†è¯„ä»·çš„å‡½æ•°
        function getScoreComment(score) {
            if (score === 70) {
                return 'é€ä½ èŠ±èŠ±ï¼Œæ„¿ä½ ç¬‘é¥å‘å‘ï½ ğŸŒ¸';
            } else if (score === 60) {
                return 'æ— é™é£å…‰åœ¨é™©å³°ï¼Œé™©å³°ä¸Šé¢æœ‰èŠ±èŠ± ğŸŒ¸';
            } else if (score >= 50) {
                return 'å·®ä¸€ç‚¹ç‚¹å°±ç™»é¡¶ï¼Œå†åŠªåŠªåŠ›æ‘˜èŠ±èŠ±ï½ ğŸŒ¸';
            } else if (score >= 30) {
                return 'åœŸåœ°è€•è€˜éœ€è€å¿ƒï¼Œç­”é¢˜ä¹Ÿæ˜¯å¦‚æ­¤å“¦ï¼Œä¸‹æ¬¡å¤šè–…å‡ æœµèŠ±èŠ±ï½ ğŸŒ¸';
            } else {
                return 'æ²¡å…³ç³»ï¼Œä¸‰é»‘ä¹Ÿæœ‰å¼€è’çš„æ–°æ‰‹æœŸï¼Œé‡æ–°æ¥è¿‡æ”’èŠ±èŠ±ï½ ğŸŒ¸';
            }
        }

        // æ£€æŸ¥æ‰€æœ‰é¢˜ç›®æ˜¯å¦éƒ½å·²æäº¤
        function checkAllCompleted() {
            const allSubmitted = submittedQuestions.every(status => status === true);
            if (allSubmitted) {
                document.getElementById('score').textContent = score;
                // è®¾ç½®å¾—åˆ†è¯„ä»·
                scoreComment.textContent = getScoreComment(score);
                document.getElementById('finalScore').style.display = 'block';
                // æ»¡åˆ†æ˜¾ç¤ºèŠ±èŠ±åŠ¨ç”»ï¼ˆ5ç§’åéšè—ï¼‰
                if (score === 70) {
                    flowerAnimation.style.display = 'block';
                    setTimeout(() => {
                        flowerAnimation.style.display = 'none';
                    }, 5000); // åŠ¨ç”»æ˜¾ç¤º5ç§’
                }
                // æ˜¾ç¤ºè¿”å›æŒ‰é’®
                document.getElementById('back-btn').style.display = 'block';
            }
        }

        // é‡æ–°å¼€å§‹æ¸¸æˆï¼ˆæ ¸å¿ƒï¼šæ¢å¤æ‰€æœ‰æäº¤æŒ‰é’®çš„å¯ç”¨çŠ¶æ€ï¼‰
        function restartGame() {
            score = 0;
            submittedQuestions.fill(false); // é‡ç½®æäº¤çŠ¶æ€
            // æ¸…é™¤æ‰€æœ‰é€‰é¡¹çš„æ ·å¼
            document.querySelectorAll('.option').forEach(opt => {
                opt.classList.remove('selected-single', 'selected', 'correct', 'incorrect');
            });
            // æ¸…é™¤æ‰€æœ‰åé¦ˆ
            document.querySelectorAll('.feedback').forEach(feedback => {
                feedback.style.display = 'none';
                feedback.textContent = '';
                feedback.className = 'feedback';
            });
            // æ ¸å¿ƒï¼šæ¢å¤æ‰€æœ‰æäº¤æŒ‰é’®çš„å¯ç”¨çŠ¶æ€
            document.querySelectorAll('.submit-btn').forEach(btn => {
                btn.disabled = false;
            });
            // æ¸…ç©ºè¯„ä»·æ–‡æœ¬ã€éšè—å¾—åˆ†é¢æ¿å’ŒèŠ±èŠ±åŠ¨ç”»
            scoreComment.textContent = '';
            document.getElementById('finalScore').style.display = 'none';
            flowerAnimation.style.display = 'none';
            // éšè—è¿”å›æŒ‰é’®
            document.getElementById('back-btn').style.display = 'none';
            // æ›´æ–°åˆ†æ•°æ˜¾ç¤º
            document.getElementById('score').textContent = 0;
            
            // é‡æ–°éšæœºæ’åºå…³å¡å’Œé€‰é¡¹
            initializeGame();
        }
    </script>
<!-- è¿”å›æŒ‰é’® -->
    <button id="back-btn" class="back-button">è¿”å›ä¸»ç•Œé¢</button>
    <script>
        // è¿”å›æŒ‰é’®ç‚¹å‡»äº‹ä»¶
        document.getElementById('back-btn').addEventListener('click', function() {
            window.location.href = 'index.html';
        });
    </script>
    </body>
</html>
